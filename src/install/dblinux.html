[%# $Id$ %]
[% META title = "Database configuratie op GNU/Linux systemen" %]

<h2>PostgreSQL</h2>

<em>Als u geen ervaring heeft met het installeren en opzetten van
PostgreSQL databases is het wellicht verstandiger <a
href="#SQLite">SQLite</a> te gebruiken.</em>

<p>Installeer, indien nodig, <a
href="http://www.postgresql.org">PostgreSQL</a>, en <a
href="http://search.cpan.org/dist/DBD-Pg">DBD::Pg</a>, de Perl module voor
PostgreSQL:
<blockquote class="code">yum install postgresql perl-DBD-Pg</blockquote>
of
<blockquote class="code">apt-get install postgresql libdbd-pg-perl</blockquote>
<!-- apt-get installs perl DBI -->

<p>U kunt verifi&euml;ren dat PostgreSQL beschikbaar is door in een
terminal window de volgende opdracht uit te voeren:</p>

<blockquote class="code">perl -MDBD::Pg -e 0</blockquote>

<p>Deze opdracht dient zonder problemen, en ook zonder uitvoer, te
eindigen.</p>

<p>Om PostgreSQL te kunnen gebruiken dient u te beschikken over een
PostgreSQL gebruikersnaam met bijbehorende toegangscode. De
gebruikersnaam dient geauthoriseerd te zijn om nieuwe databases aan te
maken. De beheerder van het databasesysteem kan dit regelen. Raadpleeg
eventueel de PostgreSQL documentatie.</p>

<p>De beheerder van het databasesysteem kan u ook vertellen via welke
systeemnaam en (soms) poortnummer het databasesysteem moet worden
benaderd. Als de database op het eigen systeem draait kunt u als
systeemnaam <strong>localhost</strong> gebruiken.</p>

<p>Stel dat u de PostgreSQL gebruikersnaam <strong>jansen</strong> met
toegangscode <strong>pietersen</strong> heeft toegewezen gekregen, dan
kunt u dit verifi&euml;ren door de volgende opdrachten uit te voeren:

<blockquote class="code">psql -hlocalhost -Ujansen -W template1</blockquote>

<p>Als het goed gaat krijgt u een welkomsboodschap. Sluit het
programma af door ingave van <strong>\q</strong> gevolgd door het
indrukken van de Enter-toets.</p>

<p>Om vast te stellen of u databases kunt aanmaken, voert u de
volgende opdrachten uit:</p>

<blockquote class="code">createdb -hlocalhost -Ujansen -W jansen
dropdb -hlocalhost -Ujansen -W jansen</blockquote>

<p>Beide opdrachten dienen probleemloos te verlopen.</p>

<h3>Aanmaken van de probeer-database</h3>

<ol>
  <li><p>Cre&euml;er een nieuwe directory, bijvoorbeeld <strong>sample</strong>.</li>
  <li><p>Open een terminal window en ga in de nieuwe directory
      staan.</p></li>
  <li><p>Geef vervolgens de opdracht:
      <blockquote class="code">ebshell --createsampleconfig</blockquote>
      Dit cre&euml;ert een bestand <strong>.eekboek.conf</strong> in
      de huidige directory. In dit bestand zijn alle standaard
      instellingen van EekBoek als voorbeeld opgenomen.</p></li>
  <li><p>Open <strong>.eekboek.conf</strong> in een geschikte
      editor. Wijzig de <strong>[database]</strong> sectie in het navolgende:
      <blockquote class="code">[database]
name = sample
user = jansen
password = pietersen
host = localhost
driver = postgres</blockquote>
      Uiteraard gebruikt u de echte waarden voor de toegekende
      PostgreSQL gebruikersnaam, toegangscode, en het databasesysteem.</p></li>
  <li><p>Sla dit bestandje weer op.</p></li>
  <li><p>Geef in het terminal window de volgende opdracht:
      <blockquote class="code">ebshell --createsampledb</blockquote>

      [%#

      Oudere versies van EekBoek ondersteunen deze opdracht nog niet.
      U dient dan als volgt te handelen:
      <blockquote class="code">ebshell --import --dir /usr/lib/EekBoek-<var>versie</var>/lib/EB/example</blockquote>
      Hierin is <var>versie</var> de versie van EekBoek die u gebruikt.
      De probeer-database wordt nu geladen.
      <p>Let op: het kan zijn dat de example directory ergens anders
staat. Zoek indien nodig naar het bestand <strong>mutaties.eb</strong>
en kijk waar de betreffende example directory staat.
      <p>Let op: het lijkt erop dat na installatie met
      <strong>alien</strong> sommige voorbeeldbestanden gecomprimeerd
      worden ge&iuml;nstalleerd. In plaats van bijvoorbeeld
      <code>mutaties.eb</code> staat er dan
      <code>mutaties.eb.gz</code>. Voor het importeren moeten alle
      gecomprimeerde bestanden eerst worden hersteld, door bijvoorbeeld
      in de example directory de volgende opdracht uit te voeren:
      <blockquote class="code">gunzip *.gz</blockquote>

      %]

      U krijgt nu een verslag te zien van het aanmaken van de
      database, het openen van de administratie, en het invoeren van
      enkele boekingen. De afsluitende opmerking &ldquo;!Geen openstaande
      posten gevonden&rdquo; is normaal en duidt niet op een fout.</p></li>
      
</ol>

Na het aanmaken van de probeer-database kunt u hiermee gaan spelen
door in dit terminal window de volgende opdracht te geven:
<blockquote class="code">ebshell</blockquote>
<p>Raadpleeg verder de <a href="../docs/index.html">EekBoek documentatie</a>.</p>

<a name="SQLite"></a>
<h2>SQLite</h2>

<p>Installeer, indien nodig, <a
href="http://www.sqlite.org">SQLite</a>, en <a
href="http://search.cpan.org/dist/DBD-SQLite/">DBD::SQLite</a>, de
Perl module voor SQLite:
<blockquote class="code">yum install sqlite perl-DBD-SQLite</blockquote>
of
<blockquote class="code">apt-get install sqlite3 libdbd-sqlite3-perl</blockquote>

<p>U kunt verifi&euml;ren dat SQLite beschikbaar is door in een
terminal window de volgende opdracht uit te voeren:</p>

<blockquote class="code">perl -MDBD::SQLite -e 0</blockquote>

<p>Deze opdracht dient zonder problemen, en ook zonder uitvoer, te
eindigen.</p>

<h3>Aanmaken van de probeer-database</h3>

<ol>
  <li><p>Cre&euml;er een nieuwe directory, bijvoorbeeld <strong>sample</strong>.</li>
  <li><p>Open een terminal window en ga in de nieuwe directory
      staan.</p></li>
  <li><p>Geef vervolgens de opdracht:
      <blockquote class="code">ebshell --createsampleconfig</blockquote>
      Dit cre&euml;ert een bestand <strong>.eekboek.conf</strong> in
      de huidige directory. In dit bestand zijn alle standaard
      instellingen van EekBoek als voorbeeld opgenomen.</p></li>
  <li><p>Open <strong>.eekboek.conf</strong> in een geschikte
      editor. Wijzig de <strong>[database]</strong> sectie in het navolgende:
      <blockquote class="code">[database]
name = sample
driver = sqlite</blockquote></p></li>
  <li><p>Sla dit bestandje weer op.</p></li>
  <li><p>Geef in het terminal window de volgende opdracht:
      <blockquote class="code">ebshell --createsampledb</blockquote>
      U krijgt nu een verslag te zien van het aanmaken van de
      database, het openen van de administratie, en het invoeren van
      enkele boekingen. De afsluitende opmerking &ldquo;!Geen openstaande
      posten gevonden&rdquo; is normaal en duidt niet op een fout.</p></li>
</ol>

<p>Na het aanmaken van de probeer-database kunt u hiermee gaan spelen
door in dit terminal window de volgende opdracht te geven:
<blockquote class="code">ebshell</blockquote></p>

<p>Raadpleeg verder de <a href="../docs/index.html">EekBoek
documentatie</a>.</p>
      
